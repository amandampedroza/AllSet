<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>AllSet | Cadastro Veículo</title>

    <link rel="stylesheet" href="./css/cadastro-veic.css">
    <link rel="website icon" type="png" href="./assets/img/logoAllSet.png" />
    <!-- <link rel="icon" href="./assets/logo_fundo_branco.png">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'> -->

</head>

<body>
    <div class="principal2">

        <div class="imagem"></div>

        <div class="camposCadastro">
            <div class="headerCadastro">
                <div class="home">
                    <a href="./index.html"><img src="./assets/iconevoltar.png" alt="">Voltar para Home</a>
                </div>

                <img src="./assets/streamlineAzul.png" alt="">
            </div>

            <div class="Cadastro">
                <h1>Cadastre o seu Veículo</h1>
                <!-- <span>Crie sua conta inserindo os dados abaixo:</span> -->
                <!-- <input type="text" id="ipt_codigo" class="inputCadastro" placeholder="Código da empresa">
                <div id="div_mensagemLogin" class="MsgErro"></div>
                <div id="div_tCod" class="MsgErro"></div> -->

                <input type="text" id="ipt_usuario" class="inputCadastro" placeholder="Placa do veículo">
                <div id="div_mensagemLogin" class="MsgErro"></div>
                <div id="div_tlogin" class="MsgErro"></div>

                <div class="inputJunta">
                    <input type="text" id="ipt_cpf" class="inputCadastro" placeholder="Modelo">
                    <div id="div_mensagemLogin" class="MsgErro"></div>
                    <div id="div_tcpf" class="MsgErro"></div>

                </div>
                <br>

                <button onclick="cadastro()" id="button_cadastro" class="button">Cadastrar Veículo</button>

            </div>

            <!-- <div class="footerCadastro">
                <div class="sem_cadastro">
                    <p>Já possui uma conta?<a href="./login.html" style="color: #fff;">
                            <span style="color:#fff; text-decoration: underline;"> Clique aqui</span></a></p>
                </div>
            </div> -->
        </div>
    </div>
</body>

</html>
<script>

  // // Array para armazenar empresas cadastradas para validação de código de ativação 
  // let listaEmpresasCadastradas = [];

  // function cadastrar() {
  //   // aguardar();

  //   //Recupere o valor da nova input pelo nome do id
  //   // Agora vá para o método fetch logo abaixo
  //   var nomeVar = nome_input.value;
  //   var emailVar = email_input.value;
  //   var cpfVar = cpf_input.value;
  //   var senhaVar = senha_input.value;
  //   var confirmacaoSenhaVar = confirmacao_senha_input.value;
  //   var codigoVar = codigo_input.value;
  //   var nomeValido = (nomeVar.length > 1);
  //   var emailValido = (emailVar.includes('@') && emailVar.includes('.'));
  //   var senhaValida = (senhaVar.length > 6);
  //   var confirmacaoValida = (senhaVar == confirmacaoSenhaVar);
  //   var cpfValido = (cpfVar.length == 11);
  //   var idEmpresaVincular

  //   // Verificando se há algum campo em branco
  //   if (
  //     nomeVar == "" ||
  //     emailVar == "" ||
  //     senhaVar == "" ||
  //     cpfVar == "" ||
  //     confirmacaoSenhaVar == "" ||
  //     codigoVar == ""
  //   ) {
  //     cardErro.style.display = "block";
  //     mensagem_erro.innerHTML =
  //       "Preencha todos os campos para continuar";

  //     finalizarAguardar();
  //     return false;
  //   }
  //   else if (
  //     nomeValido == false
  //   ) {
  //     cardErro.style.display = "block";
  //     mensagem_erro.innerHTML =
  //       "O nome do usuário tem de ser maior de 1";

  //     finalizarAguardar();
  //     return false;
  //   } else if (
  //     emailValido == false
  //   ) {
  //     cardErro.style.display = "block";
  //     mensagem_erro.innerHTML =
  //       "O Email de usuário deve conter @ e .";

  //     finalizarAguardar();
  //     return false;
  //   } else if (
  //     senhaValida == false
  //   ) {
  //     cardErro.style.display = "block";
  //     mensagem_erro.innerHTML =
  //       "A senha deve ter mais de 6 caracteres";

  //     finalizarAguardar();
  //     return false;
  //   } else if (
  //     confirmacaoValida == false
  //   ) {
  //     cardErro.style.display = "block";
  //     mensagem_erro.innerHTML =
  //       "A confirmação de senha deve ser igual a senha criada";

  //     finalizarAguardar();
  //     return false;
  //   } else if (
  //     cpfValido == false
  //   ) {
  //     cardErro.style.display = "block";
  //     mensagem_erro.innerHTML =
  //       "O CPF deve conter apenas 11 caracteres";

  //     finalizarAguardar();
  //     return false;
  //   } else {
  //     setInterval(sumirMensagem, 5000);
  //   }

  //   // Verificando se o código de ativação é de alguma empresa cadastrada
  //   for (let i = 0; i < listaEmpresasCadastradas.length; i++) {
  //     if (listaEmpresasCadastradas[i].codigo_ativacao == codigoVar) {
  //       idEmpresaVincular = listaEmpresasCadastradas[i].id
  //       console.log("Código de ativação válido.");
  //       break;
  //     } else {
  //       cardErro.style.display = "block";
  //       mensagem_erro.innerHTML = "(Mensagem de erro para código inválido)";
  //       finalizarAguardar();
  //     }
  //   }

  //   // Enviando o valor da nova input
  //   fetch("/usuarios/cadastrar", {
  //     method: "POST",
  //     headers: {
  //       "Content-Type": "application/json",
  //     },
  //     body: JSON.stringify({
  //       // crie um atributo que recebe o valor recuperado aqui
  //       // Agora vá para o arquivo routes/usuario.js
  //       nomeServer: nomeVar,
  //       emailServer: emailVar,
  //       cpfServer: cpfVar,
  //       senhaServer: senhaVar,
  //       idEmpresaVincularServer: idEmpresaVincular
  //     }),
  //   })
  //     .then(function (resposta) {
  //       console.log("resposta: ", resposta);

  //       if (resposta.ok) {
  //         cardErro.style.display = "block";

  //         mensagem_erro.innerHTML =
  //           "Cadastro realizado com sucesso! Redirecionando para tela de Login...";

  //         setTimeout(() => {
  //           window.location = "login.html";
  //         }, "2000");

  //         limparFormulario();
  //         finalizarAguardar();
  //       } else {
  //         throw "Houve um erro ao tentar realizar o cadastro!";
  //       }
  //     })
  //     .catch(function (resposta) {
  //       console.log(`#ERRO: ${resposta}`);
  //       finalizarAguardar();
  //     });

  //   return false;
  // }

  // // Listando empresas cadastradas 
  // function listar() {
  //   fetch("/empresas/listar", {
  //     method: "GET",
  //   })
  //     .then(function (resposta) {
  //       resposta.json().then((empresas) => {
  //         empresas.forEach((empresa) => {
  //           listaEmpresasCadastradas.push(empresa);

  //           console.log("listaEmpresasCadastradas")
  //           console.log(listaEmpresasCadastradas[0].codigo_ativacao)
  //         });
  //       });
  //     })
  //     .catch(function (resposta) {
  //       console.log(`#ERRO: ${resposta}`);
  //     });
  // }

  // function sumirMensagem() {
  //   cardErro.style.display = "none";
  // }
</script>
<!-- 
<a href="index.html" class="voltar"> <i class="fa-solid fa-arrow-left"></i></a>
   <h1 class="titulo-form">AllSet</h1>
   
    <div class="formulario">
      <span class="titulo">Cadastro - Veículo</span>
   
        <div class="campo">
            <span>Placa do veículo:</span>
            <input id="placa_input" type="text" placeholder="000-0000">
        </div>

        <div class="campo">
            <span>Modelo:</span>
            <input id="modelo_input" type="text" placeholder="XXX">
        </div>
        <div id="div_erros_login"></div>
        <button class="botao" onclick="cadastrar()">Cadastrar veículo</button>
    </div> -->